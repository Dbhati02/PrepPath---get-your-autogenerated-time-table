<!DOCTYPE html>
<html lang="en">
<%- include('partials/head') %>

<body class="relative min-h-screen bg-gradient-to-br from-pink-500 via-purple-200 to-blue-500 font-[Quicksand] overflow-x-hidden">

  <!-- ‚úÖ Toast Alert (if message exists) -->
  <% if (message) { %>
    <div id="alert-bar" class="fixed top-6 left-1/2 transform -translate-x-1/2 bg-white text-rose-500 border border-rose-300 px-6 py-3 rounded-full shadow-lg z-50 flex items-center gap-2 transition-all duration-500 opacity-0 scale-95">
      <img src="/images/bell.avif" class="w-5 h-5" />
      <span><%= message %></span>
    </div>

    <script>
      window.addEventListener("DOMContentLoaded", () => {
        const alert = document.getElementById("alert-bar");
        alert.classList.remove("opacity-0", "scale-95");

        setTimeout(() => {
          alert.classList.add("opacity-0", "scale-95");
        }, 1200);

        setTimeout(() => {
          window.location.href = "/";
        }, 1600);
      });
    </script>
  <% } %>

  <!-- üêº Create Daily Plan Form -->
  <main class="flex flex-col items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8 bg-white/50 backdrop-blur-md rounded-xl shadow-lg p-8 border border-white">
      <h2 class="text-3xl font-bold text-center text-rose-600 mb-6 mr-10">
        üêº Create Daily Plan
      </h2>

      <form action="/api/dailyPlan/create" method="POST" class="space-y-4">
        <!-- üìÖ Date -->
        <div>
          <label for="date" class="block text-sm font-semibold text-gray-700 mb-1">Date</label>
          <input type="date" name="date" required
            class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-400" />
        </div>

        <!-- üìò Subject -->
        <div>
          <label for="subject" class="block text-sm font-semibold text-gray-700 mb-1">Subject</label>
          <input type="text" name="subject" required placeholder="e.g., DSA"
            class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-400" />
        </div>

        <!-- ‚úèÔ∏è Topics -->
        <div>
          <label for="tasks" class="block text-sm font-semibold text-gray-700 mb-1">Topics (comma separated)</label>
          <textarea name="tasks" required rows="4" placeholder="e.g., Recursion, Trees, SQL Joins"
            class="w-full px-4 py-2 rounded-lg border border-gray-300 resize-none focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>
        </div>

        <!-- ‚úÖ Button -->
        <div class="flex justify-center">
          <button type="submit"
            class="bg-rose-500 hover:bg-rose-600 text-white font-semibold px-6 py-2 mt-4 rounded-full shadow-md transition duration-300">
            ‚ûï Add Plan
          </button>
        </div>
      </form>
    </div>
  </main>
</body>
</html>
